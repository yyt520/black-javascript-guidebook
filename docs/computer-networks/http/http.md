---
nav:
  title: 计算机网络
  order: 8
group:
  title: HTTP
  order: 3
title: HTTP
order: 1
---

# HTTP 超文本传输协议

HTTP 全称是  HyperText Transfer Protocal ，即超文本传输协议。

- HTTP 是 **应用层协议**，当你上网浏览网页的时候，浏览器和 Web 服务器之间就会通过 HTTP 在 Internet 上进行数据的发送和接收。
- HTTP 是一个基于请求/响应模式的、无状态的协议。

```jsx | inline
import React from 'react';
import img from '../../assets/http/from-url-request-to-render-dom-tree.png';

export default () => <img alt="Webpack执行流程" src={img} width={800} />;
```

## 特点

HTTP 的特点概括如下：

1. **灵活可扩展**：主要体现在两个方面。一个是语义上的自由，只规定了基本格式，比如空格分隔单词，换行分隔字段，其他的各个部分都没有严格的语法限制。另一个是传输形式的多样性，不仅仅可以传输文本，还能传输图片、视频等任意数据，非常方便。
2. **可靠传输**：HTTP 基于 TCP/IP，因此把这一特性继承了下来。这属于 TCP 的特性，不具体介绍了。
3. **请求-应答**：也就是一发一收、有来有回， 当然这个请求方和应答方不单单指客户端和服务器之间，如果某台服务器作为代理来连接后端的服务端，那么这台服务器也会扮演请求方的角色。
4. **无状态**：这里的状态是指 **通信过程的上下文信息**，而每次 HTTP 请求都是独立、无关的，默认不需要保留状态信息。

## 缺点

### 无状态

所谓的优点和缺点还是要分场景来看的，对于 HTTP 而言，最具争议的地方在于它的 **无状态**。

在需要长连接的场景中，需要保存大量的上下文信息，以免传输大量重复的信息，那么这时候无状态就是 HTTP 的缺点了。

但与此同时，另外一些应用仅仅只是为了获取一些数据，不需要保存连接上下文信息，无状态反而减少了网络开销，成为了 HTTP 的优点。

### 明文传输

即协议里的报文（主要指的是头部）不使用二进制数据，而是文本形式。

这当然对于调试提供了便利，但同时也让 HTTP 的报文信息暴露给了外界，给攻击者也提供了便利。`WIFI 陷阱` 就是利用 HTTP 明文传输的缺点，诱导你连上热点，然后疯狂抓你所有的流量，从而拿到你的敏感信息。

### 队头阻塞问题

当 HTTP 开启长连接时，共用一个 TCP 连接，同一时刻只能处理一个请求，那么当前请求耗时过长的情况下，其它的请求只能处于 **阻塞状态**，也就是著名的队头阻塞问题。

## 参考资料

- [Fetch Living Standard](https://fetch.spec.whatwg.org/)
- [HTTP 灵魂之问，巩固你的 HTTP 知识体系](https://juejin.im/post/5e76bd516fb9a07cce750746#heading-0)
